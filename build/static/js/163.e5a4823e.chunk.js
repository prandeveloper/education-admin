(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[163],{2104:function(e,t,a){"use strict";a.r(t),a.d(t,"AddCourse",(function(){return D}));var n=a(76),l=a.n(n),r=a(127),c=a(830),o=a(42),s=a(13),i=a(14),m=a(16),d=a(15),u=a(0),p=a.n(u),g=a(1120),h=a(1118),E=a(1119),f=a(182),b=a(1123),y=a(799),v=a(800),C=a(796),N=a(795),S=a(781),_=a(952),k=a(957),F=a(1440),j=a.n(F),H=(a(1053),a(937),a(24),a(177)),O=a(841),T=a.n(O),w=a(58),D=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n,l;return Object(s.a)(this,a),(l=t.call(this,e)).onEditorStateChange=function(e){l.setState({editorState:e,long_desc:j()(Object(_.convertToRaw)(e.getCurrentContent()))}),console.log(l.state.long_desc)},l.onChangeHandler=function(e){l.setState({selectedFile:e.target.files[0]}),l.setState({selectedName:e.target.files[0].name}),console.log(e.target.files[0])},l.onChangeHandler1=function(e){l.setState({selectedFile1:e.target.files[0]}),l.setState({selectedName1:e.target.files[0].name}),console.log(e.target.files[0])},l.changeHandler=function(e){l.setState(Object(o.a)({},e.target.name,e.target.value))},l.submitHandler=function(e){e.preventDefault();var t=new FormData;t.append("course_title",l.state.course_title),t.append("desc",l.state.desc),t.append("long_desc",l.state.long_desc),t.append("teacher",l.state.teacher),t.append("category_id",l.state.category_id),null!==l.state.selectedFile&&t.append("course_image",l.state.selectedFile,l.state.selectedName),null!==l.state.selectedFile1&&t.append("posterimg",l.state.selectedFile1,l.state.selectedName1);var a,n=Object(c.a)(t.keys());try{for(n.s();!(a=n.n()).done;){var r=a.value;console.log(r)}}catch(m){n.e(m)}finally{n.f()}var o,s=Object(c.a)(t.values());try{for(s.s();!(o=s.n()).done;){var i=o.value;console.log(i)}}catch(m){s.e(m)}finally{s.f()}H.a.post("/addcoursebyadmin",t).then((function(e){console.log(e),T()("Success!","Submitted SuccessFull!","success")})).catch((function(e){console.log(e.response),T()("Error!","Error Received","error")})),l.state.editorState.getCurrentContent().getPlainText()},l.state=(n={course_title:"",desc:"",long_desc:"",teacher:"",course_type:"",category_id:"",course_image:"",posterimg:"",editorState:_.EditorState.createEmpty(),selectedFile:null,selectedName:"",selectedFile1:null},Object(o.a)(n,"selectedName",""),Object(o.a)(n,"teacherL",[]),Object(o.a)(n,"categ",[]),n),l}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=Object(r.a)(l.a.mark((function e(){var t=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:H.a.get("/approved_staff").then((function(e){console.log(e),t.setState({teacherL:e.data.data})})).catch((function(e){console.log(e)})),H.a.get("/allCat").then((function(e){console.log(e),t.setState({categ:e.data.data})})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e;return p.a.createElement("div",null,p.a.createElement(g.a,null,p.a.createElement(h.a,{className:"m-2"},p.a.createElement(E.a,null,p.a.createElement("h1",{"col-sm-6":!0,className:"float-left"},"Add New Course")),p.a.createElement(E.a,null,p.a.createElement(w.b,{render:function(e){var t=e.history;return p.a.createElement(f.a,{className:" btn btn-danger float-right",onClick:function(){return t.push("/app/course/courseList")}},"Back")}}))),p.a.createElement(b.a,null,p.a.createElement(y.a,{className:"m-1",onSubmit:this.submitHandler},p.a.createElement(h.a,{className:"mb-2"},p.a.createElement(E.a,{lg:"6",md:"6"},p.a.createElement(v.a,null,p.a.createElement(C.a,null,"Course Title"),p.a.createElement(N.a,{type:"text",placeholder:"Course Name",name:"course_title",value:this.state.course_title,onChange:this.changeHandler}))),p.a.createElement(E.a,{lg:"6",md:"6"},p.a.createElement(v.a,null,p.a.createElement(C.a,null,"Teacher Name"),p.a.createElement(S.a,{type:"select",placeholder:"Teacher",name:"teacher",value:this.state.teacher,onChange:this.changeHandler},p.a.createElement("option",null,"Select Teacher...."),null===(e=this.state.teacherL)||void 0===e?void 0:e.map((function(e){return p.a.createElement("option",{key:e._id,value:e._id},e.fullname)}))))),p.a.createElement(E.a,{lg:"6",md:"6"},p.a.createElement(v.a,null,p.a.createElement(C.a,null,"Course Type"),p.a.createElement(S.a,{type:"select",name:"course_type",value:this.state.course_type,onChange:this.changeHandler},p.a.createElement("option",null,"Select Course Type..."),p.a.createElement("option",null,"PAID"),p.a.createElement("option",null,"FREE")))),p.a.createElement(E.a,{lg:"6",md:"6"},p.a.createElement(v.a,null,p.a.createElement(C.a,null,"Category"),p.a.createElement(S.a,{type:"select",placeholder:"Category",name:"category_id",value:this.state.category_id,onChange:this.changeHandler},p.a.createElement("option",null,"Select Category..."),this.state.categ.map((function(e){return p.a.createElement("option",{key:e._id,value:e._id},e.catName)}))))),p.a.createElement(E.a,{lg:"6",md:"6"},p.a.createElement(v.a,null,p.a.createElement(C.a,null,"Description"),p.a.createElement(N.a,{type:"textarea",placeholder:"Description",name:"desc",value:this.state.desc,onChange:this.changeHandler}))),p.a.createElement(E.a,{lg:"6",md:"6"},p.a.createElement(v.a,null,p.a.createElement(C.a,null,"Long Description"),p.a.createElement(k.Editor,{required:!0,toolbarClassName:"demo-toolbar-absolute",wrapperClassName:"demo-wrapper",editorClassName:"demo-editor",editorState:this.state.editorState,onEditorStateChange:this.onEditorStateChange,toolbar:{options:["inline","blockType","fontSize","fontFamily"],inline:{options:["bold","italic","underline","strikethrough","monospace"],bold:{className:"bordered-option-classname"},italic:{className:"bordered-option-classname"},underline:{className:"bordered-option-classname"},strikethrough:{className:"bordered-option-classname"},code:{className:"bordered-option-classname"}},blockType:{className:"bordered-option-classname"},fontSize:{className:"bordered-option-classname"},fontFamily:{className:"bordered-option-classname"}}}))),p.a.createElement(E.a,{lg:"6",md:"6"},p.a.createElement(v.a,null,p.a.createElement(C.a,null,"Course Image"),p.a.createElement(S.a,{type:"file",onChange:this.onChangeHandler}))),p.a.createElement(E.a,{lg:"6",md:"6"},p.a.createElement(v.a,null,p.a.createElement(C.a,null,"Poster Image"),p.a.createElement(S.a,{type:"file",onChange:this.onChangeHandler1})))),p.a.createElement(h.a,null,p.a.createElement(w.b,{render:function(e){e.history;return p.a.createElement(f.a.Ripple,{color:"primary",type:"submit",className:"ml-2 mb-1"},"Add Course")}}))))))}}]),a}(u.Component);t.default=D},937:function(e,t,a){}}]);
//# sourceMappingURL=163.e5a4823e.chunk.js.map